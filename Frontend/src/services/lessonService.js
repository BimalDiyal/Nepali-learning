// Nepali Typing and Writing Lesson Data
export const nepaliLessons = {
  typing: {
    title: "Nepali Typing Practice",
    description: "Learn to type in Nepali with interactive exercises",
    lessons: [
      {
        id: "typing-vowels",
        title: "Basic Vowels (स्वर)",
        description: "Learn to type Nepali vowels",
        difficulty: "Beginner",
        exercises: [
          { nepali: "अ", english: "Type 'a' for अ", answer: "a", hint: "First vowel" },
          { nepali: "आ", english: "Type 'aa' for आ", answer: "aa", hint: "Long 'a' sound" },
          { nepali: "इ", english: "Type 'i' for इ", answer: "i", hint: "Short 'i' sound" },
          { nepali: "ई", english: "Type 'ii' for ई", answer: "ii", hint: "Long 'i' sound" },
          { nepali: "उ", english: "Type 'u' for उ", answer: "u", hint: "Short 'u' sound" },
          { nepali: "ऊ", english: "Type 'uu' for ऊ", answer: "uu", hint: "Long 'u' sound" },
          { nepali: "ए", english: "Type 'e' for ए", answer: "e", hint: "Like 'e' in 'bed'" },
          { nepali: "ओ", english: "Type 'o' for ओ", answer: "o", hint: "Like 'o' in 'go'" },
        ]
      },
      {
        id: "typing-consonants-1",
        title: "Basic Consonants (व्यंजन) - Part 1",
        description: "Learn to type first set of Nepali consonants",
        difficulty: "Beginner",
        exercises: [
          { nepali: "क", english: "Type 'ka' for क", answer: "ka", hint: "Like 'k' in 'kite'" },
          { nepali: "ख", english: "Type 'kha' for ख", answer: "kha", hint: "Aspirated 'k' sound" },
          { nepali: "ग", english: "Type 'ga' for ग", answer: "ga", hint: "Like 'g' in 'go'" },
          { nepali: "घ", english: "Type 'gha' for घ", answer: "gha", hint: "Aspirated 'g' sound" },
          { nepali: "च", english: "Type 'cha' for च", answer: "cha", hint: "Like 'ch' in 'chair'" },
          { nepali: "छ", english: "Type 'chha' for छ", answer: "chha", hint: "Aspirated 'ch' sound" },
          { nepali: "ज", english: "Type 'ja' for ज", answer: "ja", hint: "Like 'j' in 'jump'" },
          { nepali: "झ", english: "Type 'jha' for झ", answer: "jha", hint: "Aspirated 'j' sound" },
        ]
      },
      {
        id: "typing-consonants-2",
        title: "Basic Consonants (व्यंजन) - Part 2",
        description: "Learn to type second set of Nepali consonants",
        difficulty: "Beginner",
        exercises: [
          { nepali: "त", english: "Type 'ta' for त", answer: "ta", hint: "Dental 't' sound" },
          { nepali: "थ", english: "Type 'tha' for थ", answer: "tha", hint: "Aspirated dental 't'" },
          { nepali: "द", english: "Type 'da' for द", answer: "da", hint: "Dental 'd' sound" },
          { nepali: "ध", english: "Type 'dha' for ध", answer: "dha", hint: "Aspirated dental 'd'" },
          { nepali: "न", english: "Type 'na' for न", answer: "na", hint: "Dental 'n' sound" },
          { nepali: "प", english: "Type 'pa' for प", answer: "pa", hint: "Like 'p' in 'pen'" },
          { nepali: "फ", english: "Type 'pha' for फ", answer: "pha", hint: "Aspirated 'p' sound" },
          { nepali: "ब", english: "Type 'ba' for ब", answer: "ba", hint: "Like 'b' in 'boy'" },
        ]
      },
      {
        id: "typing-consonants-3",
        title: "More Consonants",
        description: "Learn remaining Nepali consonants",
        difficulty: "Intermediate",
        exercises: [
          { nepali: "भ", english: "Type 'bha' for भ", answer: "bha", hint: "Aspirated 'b' sound" },
          { nepali: "म", english: "Type 'ma' for म", answer: "ma", hint: "Like 'm' in 'man'" },
          { nepali: "य", english: "Type 'ya' for य", answer: "ya", hint: "Like 'y' in 'yes'" },
          { nepali: "र", english: "Type 'ra' for र", answer: "ra", hint: "Like 'r' in 'run'" },
          { nepali: "ल", english: "Type 'la' for ल", answer: "la", hint: "Like 'l' in 'love'" },
          { nepali: "व", english: "Type 'wa' for व", answer: "wa", hint: "Like 'w' in 'water'" },
          { nepali: "श", english: "Type 'sha' for श", answer: "sha", hint: "Like 'sh' in 'ship'" },
          { nepali: "स", english: "Type 'sa' for स", answer: "sa", hint: "Like 's' in 'sun'" },
        ]
      },
      {
        id: "typing-words",
        title: "Common Words",
        description: "Practice typing common Nepali words",
        difficulty: "Intermediate",
        exercises: [
          { nepali: "नमस्ते", english: "Type 'namaste' for नमस्ते", answer: "namaste", hint: "Hello greeting" },
          { nepali: "धन्यवाद", english: "Type 'dhanyabaad' for धन्यवाद", answer: "dhanyabaad", hint: "Thank you" },
          { nepali: "कृपया", english: "Type 'kripaya' for कृपया", answer: "kripaya", hint: "Please" },
          { nepali: "स्वागत छ", english: "Type 'swagat chha' for स्वागत छ", answer: "swagat chha", hint: "Welcome" },
          { nepali: "माफ गर्नुहोस्", english: "Type 'maaf garnuhos' for माफ गर्नुहोस्", answer: "maaf garnuhos", hint: "Sorry" },
          { nepali: "फेरि भेटौँला", english: "Type 'pheri bhetaula' for फेरि भेटौँला", answer: "pheri bhetaula", hint: "See you again" },
        ]
      },
      {
        id: "typing-sentences",
        title: "Simple Sentences",
        description: "Practice typing simple Nepali sentences",
        difficulty: "Advanced",
        exercises: [
          { nepali: "म नेपाली सिक्दैछु", english: "Type 'ma nepali sikdaichhu' for म नेपाली सिक्दैछु", answer: "ma nepali sikdaichhu", hint: "I am learning Nepali" },
          { nepali: "तपाईंको नाम के हो?", english: "Type 'tapaiko naam ke ho?' for तपाईंको नाम के हो?", answer: "tapaiko naam ke ho?", hint: "What is your name?" },
          { nepali: "मलाई नेपाली बोल्न आउँछ", english: "Type 'malai nepali bolna aaunchha' for मलाई नेपाली बोल्न आउँछ", answer: "malai nepali bolna aaunchha", hint: "I can speak Nepali" },
          { nepali: "यो कति हो?", english: "Type 'yo kati ho?' for यो कति हो?", answer: "yo kati ho?", hint: "How much is this?" },
          { nepali: "कहाँ जानुहुन्छ?", english: "Type 'kahaa jaanuhunchha?' for कहाँ जानुहुन्छ?", answer: "kahaa jaanuhunchha?", hint: "Where are you going?" },
        ]
      }
    ]
  },
  writing: {
    title: "Nepali Writing Practice",
    description: "Learn to write Nepali characters and words",
    lessons: [
      {
        id: "writing-basic",
        title: "Basic Character Writing",
        description: "Learn to write basic Nepali characters",
        difficulty: "Beginner",
        characters: [
          {
            char: "क",
            steps: [
              "Start with a horizontal line at the top",
              "Add a vertical line down from the center",
              "Add a small curve at the bottom right"
            ],
            practice: "ka"
          },
          {
            char: "ख",
            steps: [
              "Draw a circle",
              "Add a vertical line through the center",
              "Add a small curve at the bottom"
            ],
            practice: "kha"
          },
          {
            char: "ग",
            steps: [
              "Draw a circle",
              "Add a horizontal line at the top",
              "Add a small curve at the bottom"
            ],
            practice: "ga"
          },
          {
            char: "च",
            steps: [
              "Draw a curve facing right",
              "Add a horizontal line at the top",
              "Add a small curve at the bottom"
            ],
            practice: "cha"
          }
        ]
      },
      {
        id: "writing-words",
        title: "Word Formation",
        description: "Learn to combine characters into words",
        difficulty: "Intermediate",
        words: [
          {
            word: "कमल",
            meaning: "Lotus",
            breakdown: "क + म + ल",
            pronunciation: "kamal"
          },
          {
            word: "पानी",
            meaning: "Water",
            breakdown: "प + आ + न + ई",
            pronunciation: "paani"
          },
          {
            word: "आकाश",
            meaning: "Sky",
            breakdown: "आ + क + आ + श",
            pronunciation: "aakash"
          },
          {
            word: "सूर्य",
            meaning: "Sun",
            breakdown: "स + ऊ + र + य",
            pronunciation: "surya"
          }
        ]
      }
    ]
  },
  vocabulary: {
    title: "Vocabulary Building",
    description: "Expand your Nepali vocabulary",
    lessons: [
      {
        id: "vocab-greetings",
        title: "Basic Greetings",
        description: "Essential Nepali greetings and expressions",
        difficulty: "Beginner",
        words: [
          { nepali: "नमस्ते", english: "Hello", romanized: "namaste", usage: "Formal greeting" },
          { nepali: "धन्यवाद", english: "Thank you", romanized: "dhanyabaad", usage: "Formal thank you" },
          { nepali: "कृपया", english: "Please", romanized: "kripaya", usage: "Polite request" },
          { nepali: "माफ गर्नुहोस्", english: "Sorry", romanized: "maaf garnuhos", usage: "Apology" },
          { nepali: "स्वागत छ", english: "Welcome", romanized: "swagat chha", usage: "Welcoming someone" },
          { nepali: "फेरि भेटौँला", english: "See you again", romanized: "pheri bhetaula", usage: "Goodbye" }
        ]
      },
      {
        id: "vocab-numbers",
        title: "Numbers 1-20",
        description: "Learn Nepali numbers",
        difficulty: "Beginner",
        words: [
          { nepali: "एक", english: "One", romanized: "ek", usage: "1" },
          { nepali: "दुई", english: "Two", romanized: "dui", usage: "2" },
          { nepali: "तीन", english: "Three", romanized: "teen", usage: "3" },
          { nepali: "चार", english: "Four", romanized: "chaar", usage: "4" },
          { nepali: "पाँच", english: "Five", romanized: "paanch", usage: "5" },
          { nepali: "छ", english: "Six", romanized: "chha", usage: "6" },
          { nepali: "सात", english: "Seven", romanized: "saat", usage: "7" },
          { nepali: "आठ", english: "Eight", romanized: "aath", usage: "8" },
          { nepali: "नौ", english: "Nine", romanized: "nau", usage: "9" },
          { nepali: "दस", english: "Ten", romanized: "das", usage: "10" },
          { nepali: "एघार", english: "Eleven", romanized: "eghaar", usage: "11" },
          { nepali: "बाह्र", english: "Twelve", romanized: "baahra", usage: "12" },
          { nepali: "तेह्र", english: "Thirteen", romanized: "tehra", usage: "13" },
          { nepali: "चौध", english: "Fourteen", romanized: "chaudha", usage: "14" },
          { nepali: "पन्ध्र", english: "Fifteen", romanized: "pandhra", usage: "15" },
          { nepali: "सोह्र", english: "Sixteen", romanized: "sohra", usage: "16" },
          { nepali: "सत्र", english: "Seventeen", romanized: "satra", usage: "17" },
          { nepali: "अठार", english: "Eighteen", romanized: "athaar", usage: "18" },
          { nepali: "उन्नाइस", english: "Nineteen", romanized: "unnais", usage: "19" },
          { nepali: "बीस", english: "Twenty", romanized: "bees", usage: "20" },
          // { nepali: "एक्काइस", english: "Twenty-one", romanized: "ekkais", usage: "21" },
          // { nepali: "बाइस", english: "Twenty-two", romanized: "baais", usage: "22" },
          // { nepali: "तेइस", english: "Twenty-three", romanized: "teis", usage: "23" },
          // { nepali: "चौबीस", english: "Twenty-four", romanized: "chaubees", usage: "24" },
          // { nepali: "पच्चीस", english: "Twenty-five", romanized: "pachchees", usage: "25" },
          // { nepali: "छब्बीस", english: "Twenty-six", romanized: "chhabbees", usage: "26" },
          // { nepali: "सत्ताइस", english: "Twenty-seven", romanized: "sattais", usage: "27" },
          // { nepali: "अठ्ठाइस", english: "Twenty-eight", romanized: "atthais", usage: "28" },
          // { nepali: "उनन्तीस", english: "Twenty-nine", romanized: "unantis", usage: "29" },
          // { nepali: "तीस", english: "Thirty", romanized: "tees", usage: "30" },
          // { nepali: "एकतीस", english: "Thirty-one", romanized: "ektees", usage: "31" },
          // { nepali: "बत्तीस", english: "Thirty-two", romanized: "battees", usage: "32" },
          // { nepali: "तेत्तीस", english: "Thirty-three", romanized: "tettees", usage: "33" },
          // { nepali: "चौंतीस", english: "Thirty-four", romanized: "chauntees", usage: "34" },
          // { nepali: "पैंतीस", english: "Thirty-five", romanized: "paintees", usage: "35" },
          // { nepali: "छत्तीस", english: "Thirty-six", romanized: "chhattees", usage: "36" },
          // { nepali: "सैंतीस", english: "Thirty-seven", romanized: "saintees", usage: "37" },
          // { nepali: "अठतीस", english: "Thirty-eight", romanized: "aththees", usage: "38" },
          // { nepali: "उनन्चालीस", english: "Thirty-nine", romanized: "unanchalees", usage: "39" },
          // { nepali: "चालीस", english: "Forty", romanized: "chalees", usage: "40" },
          // { nepali: "एकचालीस", english: "Forty-one", romanized: "ekchalees", usage: "41" },
          // { nepali: "बयालीस", english: "Forty-two", romanized: "bayaalees", usage: "42" },
          // { nepali: "त्रिचालीस", english: "Forty-three", romanized: "trichalees", usage: "43" },
          // { nepali: "चवालीस", english: "Forty-four", romanized: "chawalees", usage: "44" },
          // { nepali: "पैंतालीस", english: "Forty-five", romanized: "painchalees", usage: "45" },
          // { nepali: "छयालीस", english: "Forty-six", romanized: "chhayalees", usage: "46" },
          // { nepali: "सच्चालीस", english: "Forty-seven", romanized: "satchalees", usage: "47" },
          // { nepali: "अठचालीस", english: "Forty-eight", romanized: "athchalees", usage: "48" },
          // { nepali: "उनन्चास", english: "Forty-nine", romanized: "unanchaas", usage: "49" },
          // { nepali: "पचास", english: "Fifty", romanized: "pachaas", usage: "50" },
          // { nepali: "एकाउन्न", english: "Fifty-one", romanized: "ekaunna", usage: "51" },
          // { nepali: "बाउन्न", english: "Fifty-two", romanized: "baunna", usage: "52" },
          // { nepali: "त्रिपन्न", english: "Fifty-three", romanized: "tripanna", usage: "53" },
          // { nepali: "चौवन्न", english: "Fifty-four", romanized: "chauvanna", usage: "54" },
          // { nepali: "पचपन्न", english: "Fifty-five", romanized: "pachpanna", usage: "55" },
          // { nepali: "छपन्न", english: "Fifty-six", romanized: "chhappanna", usage: "56" },
          // { nepali: "सन्ताउन्न", english: "Fifty-seven", romanized: "santaunna", usage: "57" },
          // { nepali: "अन्ठाउन्न", english: "Fifty-eight", romanized: "anthaaunna", usage: "58" },
          // { nepali: "उनन्साठ्ठी", english: "Fifty-nine", romanized: "unansaaththi", usage: "59" },
          // { nepali: "साठ्ठी", english: "Sixty", romanized: "saaththi", usage: "60" },
          // { nepali: "एकसठ्ठी", english: "Sixty-one", romanized: "eksaaththi", usage: "61" },
          // { nepali: "बयसठ्ठी", english: "Sixty-two", romanized: "bayasaaththi", usage: "62" },
          // { nepali: "त्रिसठ्ठी", english: "Sixty-three", romanized: "trisaaththi", usage: "63" },
          // { nepali: "चौंसठ्ठी", english: "Sixty-four", romanized: "chaunsaaththi", usage: "64" },
          // { nepali: "पैंसठ्ठी", english: "Sixty-five", romanized: "painsaaththi", usage: "65" },
          // { nepali: "छैसठ्ठी", english: "Sixty-six", romanized: "chhaisaaththi", usage: "66" },
          // { nepali: "सड़सठ्ठी", english: "Sixty-seven", romanized: "sadasaaththi", usage: "67" },
          // { nepali: "अठसठ्ठी", english: "Sixty-eight", romanized: "athasaaththi", usage: "68" },
          // { nepali: "उनन्सत्तरी", english: "Sixty-nine", romanized: "unansattari", usage: "69" },
          // { nepali: "सत्तरी", english: "Seventy", romanized: "sattari", usage: "70" },
          // { nepali: "एकहत्तर", english: "Seventy-one", romanized: "ekhattar", usage: "71" },
          // { nepali: "बहत्तर", english: "Seventy-two", romanized: "bahattar", usage: "72" },
          // { nepali: "त्रिहत्तर", english: "Seventy-three", romanized: "trihattar", usage: "73" },
          // { nepali: "चौहत्तर", english: "Seventy-four", romanized: "chauhattar", usage: "74" },
          // { nepali: "पचहत्तर", english: "Seventy-five", romanized: "pachhattar", usage: "75" },
          // { nepali: "छयहत्तर", english: "Seventy-six", romanized: "chhayahattar", usage: "76" },
          // { nepali: "सतहत्तर", english: "Seventy-seven", romanized: "satahattar", usage: "77" },
          // { nepali: "अठहत्तर", english: "Seventy-eight", romanized: "athahattar", usage: "78" },
          // { nepali: "उनासी", english: "Seventy-nine", romanized: "unaasi", usage: "79" },
          // { nepali: "असी", english: "Eighty", romanized: "aasi", usage: "80" },
          // { nepali: "एकासी", english: "Eighty-one", romanized: "ekaasi", usage: "81" },
          // { nepali: "बयासी", english: "Eighty-two", romanized: "bayaasi", usage: "82" },
          // { nepali: "त्रियासी", english: "Eighty-three", romanized: "triyaasi", usage: "83" },
          // { nepali: "चौरासी", english: "Eighty-four", romanized: "chauraasi", usage: "84" },
          // { nepali: "पचासी", english: "Eighty-five", romanized: "pachaasi", usage: "85" },
          // { nepali: "छयासी", english: "Eighty-six", romanized: "chhayaasi", usage: "86" },
          // { nepali: "सतासी", english: "Eighty-seven", romanized: "sataasi", usage: "87" },
          // { nepali: "अठासी", english: "Eighty-eight", romanized: "athaasi", usage: "88" },
          // { nepali: "उनान्नब्बे", english: "Eighty-nine", romanized: "unannabbe", usage: "89" },
          // { nepali: "नब्बे", english: "Ninety", romanized: "nabbe", usage: "90" },
          // { nepali: "एकानब्बे", english: "Ninety-one", romanized: "ekannabbe", usage: "91" },
          // { nepali: "बयानब्बे", english: "Ninety-two", romanized: "bayanabbe", usage: "92" },
          // { nepali: "त्रियानब्बे", english: "Ninety-three", romanized: "triyanabbe", usage: "93" },
          // { nepali: "चौरानब्बे", english: "Ninety-four", romanized: "chauraanabbe", usage: "94" },
          // { nepali: "पन्चानब्बे", english: "Ninety-five", romanized: "panchaanabbe", usage: "95" },
          // { nepali: "छयानब्बे", english: "Ninety-six", romanized: "chhayaanabbe", usage: "96" },
          // { nepali: "सन्तानब्बे", english: "Ninety-seven", romanized: "santaanabbe", usage: "97" },
          // { nepali: "अठानब्बे", english: "Ninety-eight", romanized: "athaanabbe", usage: "98" },
          // { nepali: "उनान्सय", english: "Ninety-nine", romanized: "unansaaya", usage: "99" },
          // { nepali: "सय", english: "One Hundred", romanized: "saya", usage: "100" }
        ]
      }
    ]
  }
};

// Get all lessons from backend
export const getAllLessons = async () => {
  const res = await fetch('http://localhost:5000/api/lessons');
  if (!res.ok) throw new Error('Failed to fetch lessons');
  return (await res.json()).lessons;
};

// Save lesson progress to backend
export const saveProgress = async (lessonId, score, total) => {
  const res = await fetch('http://localhost:5000/api/lessons/progress', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ lessonId, score, total }),
  });
  if (!res.ok) throw new Error('Failed to save progress');
  return await res.json();
};

// For demo, getAllProgress will just return an empty array or you can implement a backend endpoint if needed
export const getAllProgress = async () => {
  // Not implemented in backend, return []
  return [];
};

// Utility functions
export const getLessonById = (category, lessonId) => {
  return nepaliLessons[category]?.lessons.find(lesson => lesson.id === lessonId);
};

export const getCategoryLessons = (category) => {
  return nepaliLessons[category]?.lessons || [];
};

export const getTotalLessons = () => {
  return Object.values(nepaliLessons).reduce((total, category) => {
    return total + category.lessons.length;
  }, 0);
};

export const getCompletedLessons = () => {
  const progress = getAllProgress();
  return Object.values(progress).filter(p => p.completed).length;
};
